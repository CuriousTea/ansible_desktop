---
- hosts: localhost
  connection: local
  become: true
  vars:
    username: teclis

  tasks:
    - name: install packages
      package:
        name: 
          - firefox
          - alacritty
          - ranger
          - zsh
          - sxhkd
          - polybar
          - nitrogen
          - compton
          - ttf-dejavu
          - xorg-server
          - xorg-xinit
          - rofi
          - stow
          - neofetch
          - neovim

    - name: Create a .xinitrc file 
      file: 
        path: "/home/{{ username }}/.xinitrc"
        state: touch

    - name: Copy .xinitrc file
      copy:
        src: /etc/X11/xinit/xinitrc
        dest: ~/.xinitrc
        owner: "{{ username }}"
        group: "{{ username }}"

    - name: Clone Dotfiles
      ansible.builtin.git:
        repo: 'https://github.com/CuriousTea/.dotfiles'
        dest: /home/{{ username }}/.dotfiles

